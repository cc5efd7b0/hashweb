<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHA-512 ハッシュジェネレーター</title>
    <link rel="stylesheet" href="theme/light.css" id="theme-style">
</head>
<body>
    <div class="container">
        <div class="header">
            <h3>SHA-512 ハッシュジェネレーター</h3>
            <button class="theme-toggle" onclick="toggleTheme()">
                <!-- 初期表示はライトモード用アイコン -->
                <img id="theme-icon" src="assets/moon.svg" alt="Theme Icon" width="32" height="32">
            </button>
        </div>
        <div class="input">
            <label for="inputText">ハッシュ化する文字列:</label>
            <input type="password" id="inputText">
        </div>
        <div class="button">
            <button onclick="generateAndCopyHash()">ハッシュ生成してコピー</button>
        </div>
        <div class="info">
            <label>Enterを押しても生成&コピーできます</label>
        </div>
        <div id="console" class="console"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="app.js"></script>
    <script>
        // ページ読み込み時に保存されたテーマを適用する
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            applyTheme(savedTheme);
        });

        // テーマを適用する関数
        function applyTheme(theme) {
            const themeStyle = document.getElementById('theme-style');
            themeStyle.href = theme === 'dark' ? 'theme/dark.css' : 'theme/light.css';

            const themeIcon = document.getElementById('theme-icon');
            themeIcon.src = theme === 'dark' ? 'assets/sun.svg' : 'assets/moon.svg';
            themeIcon.alt = theme === 'dark' ? 'Dark Theme Icon' : 'Light Theme Icon';
        }

        // テーマを切り替える関数
        function toggleTheme() {
            const currentTheme = localStorage.getItem('theme') || 'light';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        }
    </script>
</body>
</html>
